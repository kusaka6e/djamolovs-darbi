<!DOCTYPE html> 

<html> 

<head> 

<title>MASSIVE</title>

<meta charset="UTF-8"> 
<body bgcolor="##348D4C"> 
<div>
      <h1>Darbs ar massiviem</h1>
   </div>
   
</head> 

  
<body > 
<script>
var array = [];
var txt = "Jusu masīvs : ";

function give() {
            var a = 1 * document.getElementById("numbers").value;
	for ( i = 0; i < a; i++ ) {
			array.push( Math.round( Math.random() * 100 ));
			}


	for (i = 0; i < a; i++){
		if (i > 0 && i % 30 === 0) {
			txt += "<br>";
		}
			txt += array[i] + ", ";
  }
		
			document.getElementById('elem').innerHTML = txt;
			document.getElementById('numbers').value="";
         }
		 
function save(){
			var blob = new Blob([JSON.stringify(array)], {type: "text/javascript"});
			var link = document.createElement("a");
			link.setAttribute("href", URL.createObjectURL(blob));
			link.setAttribute("download", "massive.txt");
			link.click();
		 }
		 
function q(input) {
  var file = input.files[0];
  var a = new FileReader();
  var output = [];
  var timenumber = "";
  
  a.readAsText(file);
  a.onload = function() {
    var contents = a.result;
    contents = contents.replace(/[\[\]\s]/g, ''); // remove square brackets and whitespace
    var numbers = contents.split(','); // split by comma
    
    for (var i = 0; i < numbers.length; i++) {
      output.push(parseInt(numbers[i], 10));
    }
    
    output.sort(function(a, b) {
      return a - b;
    });
 
    document.getElementById('textStock').innerHTML ="Sakārtots massivs no dokumenta: " + output;
	var b=output;
	var blob = new Blob([JSON.stringify(b)], {type: "text/javascript"});
			var link = document.createElement("a");
			link.setAttribute("href", URL.createObjectURL(blob));
			link.setAttribute("download", "massive(ready).txt");
			link.click();
  }
  
}
 
</script>
<div>
 <h4>1)Poga kura ražo n randomu skaitļus (līdz 100) massivā.</h4>
 <h4>2)Poga ar iespēju to pielādēt txt dokumenta.</h4>
 <h4>3)Poga, kura dot iespēju izmantot txt dokumentu ar massivu, lai sagrupēt massivu un uz reiz pieladē jau sakārtoto massivu.</h4>
 </div>
<div align="center">
	<input type="number" placeholder="Ciparu skaits" name="text" id="numbers" />
	<input type="button" id="Dot" value="Pievienot" onclick="give()"> <input type="button" id="Save" value="Save" onclick="save()"><br>
	<h4 id="elem" maxlength="50"></h4>
	<input type="file" onchange="q(this)">
	<h4 id="textStock">Jusu massivs :</h4>
</div>

 
</body> 
</html> 